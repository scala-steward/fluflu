build:
  box:
    id: hseeberger/scala-sbt

  steps:
    - script:
        name: install git # for codecov
        code: |
          apt-get update && apt-get install git

    - script:
        name: sbt test
        code: |
          for v in "2.11.8" "2.12.0"; do
            sbt ++${v} coverage test coverageReport
          done

    - script:
        name: push coverage report to codecov
        code: |
          bash <(curl -s https://codecov.io/bash)
